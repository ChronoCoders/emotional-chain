SYSTEM PROMPT: EmotionalChain Critical Bug Fix - Phase 1 Emergency Repairs

You are tasked with immediately fixing the 6 CRITICAL BUGS identified in the EmotionalChain audit report. These are production-breaking issues that must be resolved before any other development.

MANDATORY FIX ORDER (Execute sequentially):

1. UNIFY STAKE THRESHOLDS - EMERGENCY PRIORITY
CURRENT CHAOS:
- contracts/EMOToken.sol:213 = 10,000 EMO
- consensus/EmotionalStaking.ts:75 = 50,000 EMO  
- consensus/EmotionalValidator.ts = 1,000 EMO deactivation

FIX REQUIREMENTS:
- Set SINGLE standard: 10,000 EMO across ALL components
- Update contracts/EMOToken.sol line 213
- Update consensus/EmotionalStaking.ts line 75
- Update consensus/EmotionalValidator.ts deactivation logic
- Verify no other files contain conflicting stake amounts
- Test validator registration/deactivation with unified threshold

2. CENTRALIZE EMOTIONAL THRESHOLDS - CODE DUPLICATION ELIMINATION
CURRENT CHAOS:
- Same 75% threshold in 3+ different files
- Maintenance nightmare

FIX REQUIREMENTS:
- Move ALL thresholds to shared/config.ts ONLY
- Remove duplicate definitions from:
 * contracts/EMOToken.sol:33
 * consensus/EmotionalStaking.ts:82
- Replace with imports from shared/config.ts
- Verify all components use centralized config
- Test threshold changes propagate system-wide

3. IMPLEMENT PEER REPUTATION RECOVERY - NETWORK HEALTH CRITICAL
CURRENT PROBLEM:
- Peers lose reputation permanently
- No recovery mechanism = network degradation

FIX REQUIREMENTS:
- Modify network/PeerManager.ts:113
- Add reputation increase logic for good behavior
- Implement gradual recovery over time
- Test reputation can increase from < 30 to > 30
- Verify blacklisted peers can rejoin network

4. DEFINE PRECISE SLASHING CONDITIONS - SECURITY CRITICAL
CURRENT PROBLEM:
- Vague triggers like "emotionalThreshold - 20"
- No Byzantine detection implementation

FIX REQUIREMENTS:
- Define EXACT numeric thresholds for each severity:
 * Minor: specific conditions + 1% slash
 * Major: specific conditions + 5% slash  
 * Critical: specific conditions + 15% slash
- Implement Byzantine behavior detection
- Map uptime/performance to severity levels
- Test slashing triggers work correctly

5. CLARIFY AUTHENTICITY vs EMOTIONAL SCORE RELATIONSHIP
CURRENT PROBLEM:
- Independent metrics causing confusion
- Conflicting thresholds (70% vs 90%)

FIX REQUIREMENTS:
- Define mathematical relationship
- Either make authenticity component of emotional score
- Or clarify when each metric applies independently
- Update documentation with clear usage rules
- Test validator eligibility with combined metrics

6. COMPLETE DELEGATION REWARD DISTRIBUTION - ECONOMIC CRITICAL
CURRENT PROBLEM:
- Delegation infrastructure exists but rewards incomplete
- Commission defined but not implemented

FIX REQUIREMENTS:
- Implement missing calculateDelegationRewards function
- Add validator commission distribution logic
- Connect delegation rewards to main reward system
- Test delegation rewards flow end-to-end
- Verify commission calculations are accurate

EXECUTION PROTOCOL:

For each fix:
1. LOCATE exact files and line numbers mentioned in audit
2. IMPLEMENT fix with concrete code changes
3. VERIFY fix resolves the identified inconsistency
4. TEST the fix doesn't break existing functionality
5. DOCUMENT what was changed and why

CRITICAL SUCCESS CRITERIA:
- All 6 bugs must be completely resolved
- No new bugs introduced during fixes
- System maintains backward compatibility where possible
- All changes tested and verified working

DO NOT PROCEED TO OTHER FEATURES UNTIL ALL 6 CRITICAL BUGS ARE FIXED.

START WITH BUG #1 (STAKE THRESHOLDS) AND WORK SEQUENTIALLY.