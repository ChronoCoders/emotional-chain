STEP 2: Implement real biometric integration for the EmotionalChain Proof of Emotion consensus.

TASK: Replace mock biometric data with real sensor integration and cryptographic proofs.

1. **Install Dependencies:**
```bash
npm install noble-hid usb serialport node-bluetooth crypto-js @types/crypto-js
npm install --save-dev @types/node

Create file: biometric/BiometricDevice.ts


Abstract base class for biometric devices
Methods: connect(), disconnect(), readData(), isConnected()
Error handling for device failures
Device discovery and pairing
Export BiometricDevice abstract class


Create file: biometric/HeartRateMonitor.ts


Implement real heart rate monitor integration
Support Bluetooth LE heart rate devices
Parse standard heart rate service (0x180D)
Real-time data streaming
Extends BiometricDevice


Create file: biometric/StressDetector.ts


HRV (Heart Rate Variability) analysis for stress detection
Galvanic skin response if available
Calculate stress levels from physiological data
Machine learning stress classification
Extends BiometricDevice


Create file: biometric/FocusMonitor.ts


EEG integration for focus/attention measurement
Brain wave analysis (alpha, beta, theta waves)
Meditation/focus state detection
Real-time cognitive load assessment
Extends BiometricDevice


Create file: biometric/AuthenticityProof.ts


Cryptographic proof of biometric authenticity
Prevent spoofing/replay attacks
Timestamp + device signature + biometric hash
Zero-knowledge proofs for privacy
Merkle tree of biometric samples


Create file: biometric/EmotionalConsensus.ts


Calculate emotional scores from real biometric data
Weighted scoring: authenticity 40%, focus 30%, stress 30%
Threshold validation (75% minimum for consensus participation)
Anti-gaming mechanisms (multiple sensors required)
Validator selection based on emotional fitness


Create file: biometric/BiometricWallet.ts


Link biometric identity to blockchain wallet
Biometric-secured key storage
Multi-factor authentication with biometrics
Recovery mechanisms for device failure
Integration with KeyPair from Step 1


Key Requirements:


REAL device integration - no mock data
Support multiple biometric modalities simultaneously
Cryptographic proofs prevent cheating/spoofing
Privacy-preserving (hash biometrics, don't store raw data)
Real-time streaming for live consensus participation
Fallback mechanisms when devices disconnect
Integration with existing Proof of Emotion consensus


Device Support Priority:


Bluetooth heart rate monitors (Polar, Garmin)
USB/Bluetooth EEG devices (Muse, OpenBCI)
Galvanic skin response sensors
Webcam-based heart rate detection (backup)
Smartphone sensor integration


Create file: biometric/DeviceManager.ts


Manage multiple biometric devices per validator
Auto-discovery and connection
Data fusion from multiple sensors
Quality assessment of biometric signals
Device health monitoring


Test file: biometric/test.ts


Mock real device connections for testing
Simulate actual biometric data patterns
Test authenticity proof generation
Verify emotional consensus calculations
Integration test with crypto from Step 1

CRITICAL FEATURES:

Anti-spoofing: Multiple sensors, liveness detection, cryptographic proofs
Privacy: Hash biometric data, zero-knowledge proofs, no raw storage
Reliability: Multiple device redundancy, quality scoring, fallback modes
Real-time: Live data streaming for consensus participation

The goal is REAL biometric integration that makes the Proof of Emotion consensus actually work with physical devices, not simulated data.
Output production-ready TypeScript with comprehensive error handling, device management, and security features.